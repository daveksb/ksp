<ksp-top-nav>
  <span header>{{ headers[pageType][0] }}</span>
  <span subHeader>{{ headers[pageType][1] }}</span>
</ksp-top-nav>

<div [formGroup]="form" class="bg-secondary bg-opacity-10 px-4 py-2">
  <div class="box-header">รายละเอียดใบคำขอรหัสเข้าใช้งานระบบ</div>

  <div class="bg-white p-3">
    <ksp-request-header-info
      [requestDate]="requestDate"
      [requestNumber]="requestNo"
    ></ksp-request-header-info>
    <hr />
    <div class="px-4 py-2">
      <div class="row">
        <div class="col mb-3">
          <label class="form-label">สังกัด</label>
          <select class="form-select">
            <option value="null" selected hidden disabled>กรุณาเลือก</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </div>

        <div class="col mb-3">
          <label class="form-label">หน่วยงาน/สถานศึกษา</label>
          <select class="form-select">
            <option value="null" selected hidden disabled>กรุณาเลือก</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">ที่อยู่</label>
        <select class="form-select">
          <option value="null" selected hidden disabled>กรุณาเลือก</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>

      <div class="d-flex justify-content-end" *ngIf="pageType === 0">
        <label
          class="text-primary form-label text-decoration-underline"
          role="button"
          >ดูรายชื่อผู้เข้าใช้งานระบบของหน่วยงาน/สถานศึกษานี้</label
        >
      </div>
    </div>

    <div class="bg-light px-4 py-2">
      <div class="box-header">
        ข้อมูลผู้ขอเข้ารหัสสำหรับเข้าใช้งานระบบ (ผู้ประสานงาน)
      </div>
      <ksp-form-user-info
        [isDarkMode]="false"
        [mode]="'view'"
        [displayMode]="[0]"
        [prefixList]="prefixList$ | async"
        formControlName="userInfo"
      ></ksp-form-user-info>
      <!--
        [nationalitys]="nationalitys$ | async" -->
      <!-- <ksp-form-requester-info [mode]="'view'"></ksp-form-requester-info> -->
    </div>
    <br />
    <div class="bg-light px-4 py-2">
      <div class="box-header">
        ข้อมูลผู้มีอำนาจแต่งตั้ง (ที่ระบุไว้ในเอกสารแนบ)
      </div>
      <ksp-form-user-info
        [isDarkMode]="false"
        [mode]="'view'"
        [displayMode]="[0]"
        [prefixList]="prefixList$ | async"
        formControlName="coordinatorInfo"
      ></ksp-form-user-info>
      <!-- <ksp-form-coordinator-info [mode]="'view'"></ksp-form-coordinator-info> -->
    </div>
    <br />
    <ksp-form-attachment
      [title]="'หลักฐานเพื่อพิจารณา'"
      mode="view"
      [groups]="[{ name: 'หนังสือแต่งตั้ง', fileId: '' }]"
    ></ksp-form-attachment>
  </div>
  <br />
  <div [formGroup]="form2" class="bg-white p-4">
    <e-service-license-check
      formControlName="verifyResult"
      [headerTitle]="approveTitles[pageType]"
      [choices]="approveChoices[pageType]"
    ></e-service-license-check>
  </div>
</div>

<div class="sticky-bottom border">
  <ksp-bottom-nav
    [isFirstPage]="true"
    [isLastPage]="true"
    [showCenterButtons]="true"
    [showSaveButton]="true"
    (cancelClicked)="cancel()"
    (saveClicked)="confirm()"
    [disableSaveButton]="!form2.valid"
  >
  </ksp-bottom-nav>
</div>
