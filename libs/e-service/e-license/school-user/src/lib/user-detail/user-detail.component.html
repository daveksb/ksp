<ksp-top-nav>
  <span header>{{ headers[pageType][0] }}</span>
  <span subHeader>{{ headers[pageType][1] }}</span>
</ksp-top-nav>

<div [formGroup]="form" class="bg-secondary bg-opacity-10 px-4 py-2">
  <div class="box-header">รายละเอียดใบคำขอ</div>

  <div class="bg-white p-3">
    <ksp-request-header-info
      [requestDate]="requestDate"
      [requestNumber]="requestNo"
    ></ksp-request-header-info>
    <hr />
    <div class="px-4 py-2">
      <div class="row">
        <div class="col mb-2">
          <label class="form-label">สังกัด</label>
          <input class="form-control" type="text" disabled />
        </div>

        <div class="col mb-2">
          <label class="form-label">หน่วยงาน / สถานศึกษา</label>
          <input class="form-control" type="text" disabled />
        </div>
      </div>

      <div class="row">
        <div class="col mb-2">
          <label class="form-label">ที่อยู่</label>
          <input class="form-control" type="text" disabled />
        </div>
      </div>

      <div class="row" *ngIf="pageType === 0">
        <div class="col-6 mb-2">
          <label class="form-label">ประเภทใบคำขอ</label>
          <input
            class="form-control"
            type="text"
            disabled
            value="ลงทะเบียนเข้าใช้งาน"
          />
        </div>
      </div>

      <div class="d-flex justify-content-end" *ngIf="pageType === 0">
        <label
          class="text-primary form-label text-decoration-underline"
          role="button"
          (click)="viewUser()"
          >ดูรายชื่อผู้เข้าใช้งานระบบของหน่วยงาน/สถานศึกษานี้</label
        >
      </div>
    </div>

    <div class="bg-light px-4 py-2">
      <div class="box-header">
        ข้อมูลผู้ขอเข้ารหัสสำหรับเข้าใช้งานระบบ (ผู้ประสานงาน)
      </div>
      <ksp-form-coordinator-info
        [mode]="'view'"
        [displayMode]="[0]"
        [prefixList]="prefixList$ | async"
        formControlName="userInfo"
      ></ksp-form-coordinator-info>
      <!--
        [nationalitys]="nationalitys$ | async" -->
      <!-- <ksp-form-requester-info [mode]="'view'"></ksp-form-requester-info> -->
    </div>
    <br />
    <div class="bg-light px-4 py-2">
      <div class="box-header">
        ข้อมูลผู้มีอำนาจแต่งตั้ง (ที่ระบุไว้ในเอกสารแนบ)
      </div>
      <ksp-form-coordinator-info
        [positionLabel]="'ตำแหน่งาน'"
        [mode]="'view'"
        [displayMode]="[0]"
        [prefixList]="prefixList$ | async"
        formControlName="coordinatorInfo"
      ></ksp-form-coordinator-info>
      <!-- <ksp-form-coordinator-info [mode]="'view'"></ksp-form-coordinator-info> -->
    </div>
    <br />
    <ksp-form-attachment
      [title]="'หลักฐานเพื่อพิจารณา'"
      mode="view"
      [groups]="[{ name: 'หนังสือแต่งตั้ง', fileid: '' }]"
    ></ksp-form-attachment>
  </div>
  <br />
  <div [formGroup]="verifyForm" class="bg-white p-4">
    <e-service-license-check
      formControlName="result"
      [headerTitle]="approveTitles[pageType]"
      [choices]="approveChoices[pageType]"
    ></e-service-license-check>
  </div>
</div>

<div class="sticky-bottom border">
  <ksp-bottom-nav
    [isFirstPage]="true"
    [isLastPage]="true"
    [showCenterButtons]="true"
    [showSaveButton]="true"
    (cancelClicked)="cancel()"
    (saveClicked)="confirm()"
    [disableSaveButton]="verifyForm.invalid"
  >
  </ksp-bottom-nav>
</div>
