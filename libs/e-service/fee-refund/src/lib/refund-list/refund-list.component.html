<ksp-top-nav
  ><span header>ยื่นใบคำขอ</span
  ><span subHeader>ขอคืนค่าธรรมเนียม </span></ksp-top-nav
>

<div class="bg-secondary bg-opacity-10 px-4 py-2 full-height">
  <div class="box-header">รายชื่อผู้ขอคืนค่าธรรมเนียม (ผ่านการตรวจสอบ)</div>

  <div class="bg-white px-3 py-3 default-width">
    <div class="box-header">กรุณากรอกข้อมูลที่ต้องการค้นหา</div>
    <hr />
    <div class="row mb-2">
      <div class="col">
        <label class="form-label">เลขที่ใบคำขอ</label>
        <input class="form-control" type="text" />
      </div>
      <div class="col">
        <label class="form-label">ประเภทค่าธรรมเนียม</label>
        <select class="form-select">
          <option value="null" selected hidden disabled>กรุณาเลือก</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <label class="form-label">หมายเลขบัตรประชาชน</label>
        <input class="form-control" type="text" />
      </div>
      <div class="col">
        <label class="form-label">ชื่อ - นามสกุล</label>
        <input class="form-control" type="text" />
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <label class="form-label">จาก: วันที่ยื่นใบคำขอ</label>
        <div class="d-flex align-items-center">
          <input
            matInput
            [matDatepicker]="picker1"
            autocomplete="off"
            class="form-control form-date"
            placeholder="วว/ดด/ปปปป"
          />
          <mat-datepicker-toggle
            class="button-date"
            matSuffix
            [for]="picker1"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </div>
      </div>
      <div class="col">
        <label class="form-label">ถึง: วันที่ยื่นใบคำขอ</label>
        <div class="d-flex align-items-center">
          <input
            matInput
            [matDatepicker]="picker2"
            autocomplete="off"
            class="form-control form-date"
            placeholder="วว/ดด/ปปปป"
          />
          <mat-datepicker-toggle
            class="button-date"
            matSuffix
            [for]="picker2"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </div>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col-6">
        <label class="form-label">สถานะ</label>
        <select class="form-select">
          <option value="null" selected hidden disabled>กรุณาเลือก</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>
    </div>
    <div class="d-flex justify-content-end mt-3">
      <button
        type="button"
        (click)="clear()"
        class="btn border-primary text-primary"
      >
        ล้างข้อมูล
      </button>
      <button type="button" (click)="search()" class="ms-3 btn btn-primary">
        ค้นหา
      </button>
    </div>
  </div>
  <br />
  <div class="bg-white px-3 py-3">
    <div class="d-flex justify-content-between mb-3">
      <div class="box-header">ผลการค้นหา 345 รายการ</div>
      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-success" (click)="approve()">
          อนุมัติ
        </button>
        <button type="button" class="ms-3 btn border-success text-success">
          จัดทำบัญชีรายชื่อ
        </button>
      </div>
    </div>
    <div class="bottom-content">
      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>เลือก</th>
          <td mat-cell *matCellDef="let element">
            <input type="checkbox" />
          </td>
        </ng-container>

        <ng-container matColumnDef="order">
          <th mat-header-cell *matHeaderCellDef>เลขที่ใบคำขอ</th>
          <td mat-cell *matCellDef="let element">{{ element.requestno }}</td>
        </ng-container>

        <ng-container matColumnDef="ssn">
          <th mat-header-cell *matHeaderCellDef>หมายเลขบัตรประชาชน</th>
          <td mat-cell *matCellDef="let element">{{ element.ssn }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>ชื่อ-นามสกุล</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="feeType">
          <th mat-header-cell *matHeaderCellDef>ประเภทค่าธรรมเนียม</th>
          <td mat-cell *matCellDef="let element">{{ element.feeType }}</td>
        </ng-container>

        <ng-container matColumnDef="profession">
          <th mat-header-cell *matHeaderCellDef>ประเภทวิชาชีพ</th>
          <td mat-cell *matCellDef="let element">
            {{ element.profession }}
          </td>
        </ng-container>

        <ng-container matColumnDef="reason">
          <th mat-header-cell *matHeaderCellDef>เหตุผลในการคืนเงิน</th>
          <td mat-cell *matCellDef="let element">{{ element.reason }}</td>
        </ng-container>

        <ng-container matColumnDef="process">
          <th mat-header-cell *matHeaderCellDef>ขั้นตอน</th>
          <td mat-cell *matCellDef="let element">{{ element.process }}</td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>สถานะดำเนินการ</th>
          <th></th>
          <td mat-cell *matCellDef="let element">{{ element.status }}</td>
        </ng-container>

        <ng-container matColumnDef="submitDate">
          <th mat-header-cell *matHeaderCellDef>วันที่ยื่นใบคำขอ</th>
          <td mat-cell *matCellDef="let element">
            {{ element.requestdate | thaiDate }}
          </td>
        </ng-container>

        <ng-container matColumnDef="approveDate">
          <th mat-header-cell *matHeaderCellDef>วันที่อนุมัติ</th>
          <td mat-cell *matCellDef="let element">
            {{ element.approveDate }}
          </td>
        </ng-container>

        <ng-container matColumnDef="refundDate">
          <th mat-header-cell *matHeaderCellDef>วันที่คืนเงิน</th>
          <td mat-cell *matCellDef="let element">{{ element.refundDate }}</td>
        </ng-container>

        <ng-container matColumnDef="verify">
          <th mat-header-cell *matHeaderCellDef>ตรวจสอบ</th>
          <td mat-cell *matCellDef="let element">
            <i
              role="button"
              (click)="verify(element.id)"
              class="bi bi-pencil-square text-primary fs-5"
            ></i>
          </td>
        </ng-container>

        <ng-container matColumnDef="approve">
          <th mat-header-cell *matHeaderCellDef>อนุมัติ</th>
          <td mat-cell *matCellDef="let element">
            <i
              role="button"
              class="bi bi-file-earmark-text-fill text-primary fs-5"
            ></i>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </div>
</div>
