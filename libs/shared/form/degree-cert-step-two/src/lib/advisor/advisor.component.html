<div class="header__container">
  <div class="header">ที่ปรึกษาวิทยานิพนธ์และการค้นคว้าอิสระ</div>

  <div class="header-2">
    (สำหรับหลักสูตรปริญญาโท เอก ทางการศึกษา (วิชาชีพครู) และปริญญาโท
    เอกทางการศึกษา (วิชาชีพบริหาร))
  </div>
</div>

<form [formGroup]="mainForm">
  <ng-container formArrayName="advisors">
    <ng-container *ngFor="let advisorForm of advisors.controls; let i = index">
      <ng-container [formGroupName]="i">
        <div class="group__number">ลำดับที่ {{ i + 1 }}</div>

        <div class="group__container">
          <ksp-teacher-general-info
            formControlName="generalInfo"
          ></ksp-teacher-general-info>

          <div class="row row--third">
            <div>
              <label class="form-label"
                >สถานะของอาจารย์ที่ปรึกษาวิทยานิพนธ์ (กรุณาเลือก)
              </label>
              <div class="content__checkbox">
                <div class="checkbox__detail">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      value="1"
                      name="status"
                    />
                    <label class="form-check-label"> ที่ปรึกษาหลัก </label>
                  </div>
                </div>
                <div class="checkbox__detail">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      value="2"
                      name="status"
                    />
                    <label class="form-check-label"> ที่ปรึกษาร่วม </label>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <label class="form-label">ประเภทที่ปรึกษา (กรุณาเลือก) </label>
              <div class="content__checkbox">
                <div class="checkbox__detail">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      value="1"
                      name="type"
                    />
                    <label class="form-check-label">
                      เป็นที่ปรึกษาวิทยานิพนธ์
                    </label>
                  </div>
                </div>
                <div class="checkbox__detail">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      value="2"
                      name="type"
                    />
                    <label class="form-check-label">
                      เป็นที่ปรึกษาค้นคว้าอิสระ
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row row--fifth">
            <div class="mb-3">
              <label class="form-label">จำนวนนักศึกษาที่ดูแล (คน) </label>
              <input class="form-control form-control-sm" type="text" />
            </div>
          </div>
          <hr />

          <div class="checkbox__container">
            <input
              type="checkbox"
              class="checkbox"
              formControlName="hasMoreCourses"
            />
            <label class="checkbox__header"
              >ทำเครื่องหมาย (/) กรณีประจำหลักสูตรมากกว่า ๑ หลักสูตร
            </label>
          </div>

          <ng-container *ngIf="getHasMoreCourses(i)">
            <ng-container formArrayName="courses">
              <ng-container
                *ngFor="let course of getCourses(i).controls; let j = index"
              >
                <div class="row row--fourth">
                  <div class="mb-3">
                    <label class="form-label">หลักสูตร {{ j + 2 }}</label>
                    <input
                      class="form-control form-control-sm"
                      type="text"
                      placeholder="กรุณากรอก"
                    />
                  </div>

                  <div class="mb-3">
                    <label class="form-label">จำนวนนักศึกษาที่ดูแล (คน) </label>
                    <input
                      class="form-control form-control-sm"
                      type="text"
                      placeholder="กรอกเฉพาะตัวเลข"
                    />
                  </div>
                </div>

                <div class="row row--third">
                  <div class="mb-3">
                    <label class="form-label"
                      >สถานะของอาจารย์ที่ปรึกษาวิทยานิพนธ์ (กรุณาเลือก)
                    </label>
                    <div class="content__checkbox">
                      <div class="checkbox__detail">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            value="1"
                            name="status"
                          />
                          <label class="form-check-label">
                            ที่ปรึกษาหลัก
                          </label>
                        </div>
                      </div>
                      <div class="checkbox__detail">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            value="2"
                            name="status"
                          />
                          <label class="form-check-label">
                            ที่ปรึกษาร่วม
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div>
                    <label class="form-label"
                      >ประเภทที่ปรึกษา (กรุณาเลือก)
                    </label>
                    <div class="content__checkbox">
                      <div class="checkbox__detail">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            value="1"
                            name="type"
                          />
                          <label class="form-check-label">
                            เป็นที่ปรึกษาวิทยานิพนธ์
                          </label>
                        </div>
                      </div>
                      <div class="checkbox__detail">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            value="2"
                            name="type"
                          />
                          <label class="form-check-label">
                            เป็นที่ปรึกษาค้นคว้าอิสระ
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
            <div class="mb-3">
              <ksp-add-row-button
                *ngIf="getCourses(i).length < 5"
                (addClick)="addCourse(i)"
                >เพิ่มคุณวุฒิการศึกษา</ksp-add-row-button
              >
            </div>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>
  </ng-container>
</form>

<ksp-add-row-button>ที่ปรึกษาวิทยานิพนธ์และการค้นคว้าอิสระ </ksp-add-row-button>
