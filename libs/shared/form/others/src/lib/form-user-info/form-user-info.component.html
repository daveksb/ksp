<form [formGroup]="form">
  <input type="hidden" formControlName="id" />

  <div class="row">
    <div
      class="col-6 mb-2"
      *ngIf="
        displayMode.includes(FormTypeEnum.thai) && isSchoolService === true
      "
    >
      <label
        class="form-label required"
        [ngClass]="{ required: mode === 'edit' }"
        >หมายเลขบัตรประชาชน
      </label>
      <input
        maxlength="13"
        class="form-control"
        type="text"
        formControlName="idcardno"
      />
      <ng-container
        *ngIf="idCardNo.invalid && (idCardNo.dirty || idCardNo.touched)"
      >
        <span class="text-danger" *ngIf="idCardNo.errors?.['pattern']">
          {{ validatorMessages.ssn }}
        </span>
      </ng-container>
    </div>

    <div class="col mb-2" *ngIf="false">
      <label class="form-label">ประเภทการยื่น</label>
      <select
        class="form-select"
        [class.bg-white]="!isDarkMode && mode === 'edit'"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option value="1">ชาวไทย</option>
        <option value="2">ชาวต่างชาติ</option>
      </select>
    </div>

    <div class="col mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label required"
        >หมายเลขหนังสือเดินทาง (Passport Number)
      </label>
      <input class="form-control" type="text" formControlName="passportno" />
      <ng-container
        *ngIf="passportNo.invalid && (passportNo.dirty || passportNo.touched)"
      >
        <span class="text-danger" *ngIf="passportNo.errors?.['pattern']">
          {{ validatorMessages.passport }}
        </span>
      </ng-container>
    </div>

    <div class="col mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label required">วันที่ออก</label>
      <input
        class="form-control"
        type="date"
        [class.bg-light]="isDarkMode"
        formControlName="passportstartdate"
      />
    </div>

    <div class="col mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label required">วันที่หมดอายุ</label>
      <input
        class="form-control"
        type="date"
        [class.bg-light]="isDarkMode"
        formControlName="passportenddate"
      />
    </div>
  </div>

  <div class="row">
    <div class="col-md-3 mb-2">
      <label class="form-label" [ngClass]="{ required: mode === 'edit' }"
        >คำนำหน้าชื่อไทย</label
      >
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="prefixth"
        (change)="prefixChanged($event)"
      >
        <option value="null">กรุณาเลือก</option>
        <option *ngFor="let prefix of prefixList" [value]="prefix.id">
          {{ prefix?.name_th }}
        </option>
      </select>
    </div>
    <div class="col-md mb-2">
      <label class="form-label" [ngClass]="{ required: mode === 'edit' }"
        >ชื่อภาษาไทย</label
      >
      <input
        [class.bg-light]="isDarkMode"
        class="form-control"
        type="text"
        placeholder="กรุณากรอกชื่อภาษาไทย"
        formControlName="firstnameth"
      />
      <ng-container
        *ngIf="
          firstNameTh.invalid && (firstNameTh.dirty || firstNameTh.touched)
        "
      >
        <span class="text-danger" *ngIf="firstNameTh.errors?.['pattern']">
          {{ validatorMessages.th }}
        </span>
      </ng-container>
    </div>

    <div class="col-md mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label">ชื่อกลาง</label>
      <input
        [class.bg-light]="isDarkMode"
        class="form-control"
        type="text"
        placeholder="กรุณากรอกชื่อภาษาไทย"
        formControlName="middlenameth"
      />
    </div>

    <div class="col-md mb-2">
      <label class="form-label" [ngClass]="{ required: mode === 'edit' }"
        >นามสกุลภาษาไทย</label
      >
      <input
        [class.bg-light]="isDarkMode"
        class="form-control"
        type="text"
        placeholder="กรุณากรอกนามสกุลภาษาไทย"
        formControlName="lastnameth"
      />
      <ng-container
        *ngIf="lastNameTh.invalid && (lastNameTh.dirty || lastNameTh.touched)"
      >
        <span class="text-danger" *ngIf="lastNameTh.errors?.['pattern']">
          {{ validatorMessages.th }}
        </span>
      </ng-container>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3 mb-2">
      <label class="form-label required">คำนำหน้าชื่ออังกฤษ</label>
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="prefixen"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option *ngFor="let prefix of prefixList" [value]="prefix.id">
          {{ prefix?.name_en }}
        </option>
      </select>
    </div>
    <div class="col-md mb-2">
      <label class="form-label required">ชื่อภาษาอังกฤษ</label>
      <input
        class="form-control"
        type="text"
        [class.bg-light]="isDarkMode"
        placeholder="กรุณากรอกชื่อภาษาอังกฤษ"
        formControlName="firstnameen"
      />
      <ng-container
        *ngIf="
          firstNameEn.invalid && (firstNameEn.dirty || firstNameEn.touched)
        "
      >
        <span class="text-danger" *ngIf="firstNameEn.errors?.['pattern']">
          {{ validatorMessages.en }}
        </span>
      </ng-container>
    </div>
    <div class="col-md mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label">ชื่อกลาง</label>
      <input
        [class.bg-light]="isDarkMode"
        class="form-control"
        type="text"
        placeholder="กรุณากรอกชื่อกลางภาษาอังกฤษ"
        formControlName="middlenameen"
      />
    </div>
    <div class="col-md mb-2">
      <label class="form-label required">นามสกุลภาษาอังกฤษ</label>
      <input
        class="form-control"
        type="text"
        [class.bg-light]="isDarkMode"
        placeholder="กรุณากรอกนามสกุลภาษาอังกฤษ"
        formControlName="lastnameen"
      />
      <ng-container
        *ngIf="lastNameEn.invalid && (lastNameEn.dirty || lastNameEn.touched)"
      >
        <span class="text-danger" *ngIf="lastNameEn.errors?.['pattern']">
          {{ validatorMessages.en }}
        </span>
      </ng-container>
    </div>
  </div>

  <div class="row">
    <div class="col-md mb-2" *ngIf="displayMode.includes(FormTypeEnum.thai)">
      <label class="form-label required">เพศ</label>
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="sex"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option value="1">ชาย</option>
        <option value="2">หญิง</option>
        <option value="3">อื่นๆ</option>
      </select>
    </div>
    <div class="col-md mb-2">
      <label class="form-label required">วันเดือนปีเกิด</label>
      <input
        class="form-control"
        type="date"
        [class.bg-light]="isDarkMode"
        formControlName="birthdate"
        [max]="today"
      />
    </div>

    <div class="col mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label required">ประเทศ</label>
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="country"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option *ngFor="let c of countryList" [value]="c.countryNo">
          {{ c?.countryN }}
        </option>
      </select>
    </div>

    <div class="col mb-2" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
      <label class="form-label">สัญชาติ</label>
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="nationality"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option *ngFor="let n of nationList" [value]="n.nationId">
          {{ n.nationName }}
        </option>
      </select>
    </div>
  </div>

  <div class="row" *ngIf="displayMode.includes(FormTypeEnum.thai)">
    <div class="col-md-6 mb-2">
      <label class="form-label required">เบอร์โทรศัพท์ (ที่ติดต่อได้)</label>
      <input
        class="form-control"
        type="tel"
        [class.bg-light]="isDarkMode"
        formControlName="contactphone"
      />
      <ng-container
        *ngIf="
          contactPhone.invalid && (contactPhone.dirty || contactPhone.touched)
        "
      >
        <span class="text-danger" *ngIf="contactPhone.errors?.['pattern']"
          >{{ validatorMessages.phone }}
        </span>
      </ng-container>
    </div>
    <div class="col-md-6 mb-2">
      <label class="form-label required">เบอร์โทรศัพท์ (ที่ทำงาน)</label>
      <input
        class="form-control"
        type="tel"
        [class.bg-light]="isDarkMode"
        formControlName="workphone"
      />
      <ng-container
        *ngIf="workPhone.invalid && (workPhone.dirty || workPhone.touched)"
      >
        <span class="text-danger" *ngIf="workPhone.errors?.['pattern']"
          >{{ validatorMessages.phone }}
        </span>
      </ng-container>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-2" *ngIf="displayMode.includes(FormTypeEnum.thai)">
      <label class="form-label required">อีเมล</label>
      <input
        class="form-control"
        type="email"
        [class.bg-light]="isDarkMode"
        formControlName="email"
      />
      <ng-container *ngIf="email.invalid && (email.dirty || email.touched)">
        <span class="text-danger" *ngIf="email.errors?.['email']">{{
          validatorMessages.email
        }}</span>
      </ng-container>
    </div>
    <div class="col-md-6 mb-2" *ngIf="false">
      <label class="form-label required">ตำแหน่ง</label>
      <input
        class="form-control"
        type="text"
        formControlName="position"
        [class.bg-light]="isDarkMode"
      />
    </div>
  </div>

  <div class="row" *ngIf="displayMode.includes(FormTypeEnum.foreign)">
    <div class="col mb-2">
      <label class="form-label">Visa Class </label>
      <select
        class="form-select"
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        formControlName="visaclass"
      >
        <option value="null" selected disabled>กรุณาเลือก</option>
        <option *ngFor="let v of visaClassList" [value]="v.id">
          {{ v.name }}
        </option>
      </select>
    </div>

    <div class="col mb-2">
      <label class="form-label">ประเภทวีซ่า </label>
      <select
        class="form-select"
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        formControlName="visatype"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option *ngFor="let v of visaTypeList" [value]="v.id">
          {{ v.nameTh }}
        </option>
      </select>
    </div>

    <div class="col mb-2">
      <label class="form-label">อนุญาตถึงวันที่ </label>
      <input formControlName="visaenddate" class="form-control" type="date" />
    </div>
  </div>

  <div class="row" *ngIf="false">
    <div class="col-6 mb-2">
      <label class="form-label required">สัญชาติ</label>
      <select
        [class.bg-white]="!isDarkMode && mode === 'edit'"
        class="form-select"
        formControlName="nationality"
      >
        <option value="null" selected hidden disabled>กรุณาเลือก</option>
        <option
          *ngFor="let nationality of nationList"
          [value]="nationality.nationid"
        >
          {{ nationality.nationName }}
        </option>
      </select>
    </div>
  </div>
</form>
