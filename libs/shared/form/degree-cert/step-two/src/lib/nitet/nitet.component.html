<div class="header">อาจารย์นิเทศก์</div>

<form [formGroup]="form">
  <ng-container formArrayName="nitets">
    <ng-container *ngFor="let nitet of nitets.controls; let i = index">
      <div [formGroupName]="i" [ngClass]="{ apply__opac: opaciseBox[i] }">
        <div class="group__header">
          <div class="group__number">ลำดับที่ {{ i + 1 }}</div>
          <mat-icon
            matTooltip="ลบอาจารย์นิเทศก์ ลำดับที่ {{ i + 1 }}"
            *ngIf="i"
            class="delete__icon"
            (click)="deleteNitet(i); opaciseBox[i] = false"
            (mouseenter)="opaciseBox[i] = true"
            (mouseout)="opaciseBox[i] = false"
            >delete_outline</mat-icon
          >
        </div>

        <div class="group__container">
          <ksp-teacher-general-info
            [mode]="mode"
            formControlName="generalInfo"
          ></ksp-teacher-general-info>

          <div>
            <div class="row row--second">
              <div class="mb-3">
                <label class="form-label">สังกัดคณะ </label>
                <input
                  class="form-control form-control-sm"
                  type="text"
                  placeholder="อักษรศาสตร์และครุศาสตร์"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">สถานะ (กรุณาเลือก) </label>

                <div class="row row--half">
                  <div class="checkbox__content">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        value="1"
                        name="status"
                      />
                      <label class="form-check-label"> ประจำ </label>
                    </div>
                  </div>
                  <div class="checkbox__content">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        value="2"
                        name="status"
                      />
                      <label class="form-check-label"> พิเศษ </label>
                    </div>
                  </div>
                </div>
              </div>
              <div>
                <label class="form-label"
                  >กลุ่มวิชาที่นิเทศ (กรุณาเลือก)
                </label>

                <div class="row row--half">
                  <div class="checkbox__content">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        value="1"
                        name="subject"
                      />
                      <label class="form-check-label"> วิชาชีพครู </label>
                    </div>
                  </div>
                  <div class="checkbox__content">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        value="2"
                        name="subject"
                      />
                      <label class="form-check-label"> วิชาเอก </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row row--first">
              <div class="mb-3">
                <label class="form-label">ประสบการณ์นิเทศ (ปี) </label>
                <input
                  formControlName="experienceYear"
                  class="form-control form-control-sm"
                  type="number"
                  min="0"
                  (focus)="experienceYearFocused = true"
                />
              </div>
              <div>
                <label class="form-label"
                  >จำนวน นศ.ที่รับผิดชอบในหลักสูตร (คน)
                </label>
                <input
                  class="form-control form-control-sm"
                  type="number"
                  placeholder="กรอกเฉพาะตัวเลข"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">จำนวน นศ.ในหลักสูตรอื่น (คน) </label>
                <input
                  class="form-control form-control-sm"
                  type="number"
                  placeholder="กรอกเฉพาะตัวเลข"
                />
              </div>
            </div>

            <ksp-instructor-info
              *ngIf="experienceYear < 3"
            ></ksp-instructor-info>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>

  <div *ngIf="nitets.length < 4" class="button__container">
    <ksp-add-row-button [mode]="'blue'" *hideInViewMode (addClick)="addNitet()"
      >เพิ่มอาจารย์นิเทศก์</ksp-add-row-button
    >
  </div>
</form>
