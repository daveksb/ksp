<form [formGroup]="form">
  <div class="bg-white">
    <div class="box-header">
      การฝึกปฏิบัติวิชาชีพระหว่างเรียน สำหรับหลักสูตร ป.ตรี / โท ครู / ป.บัณฑิต
      ครู ที่มีการฝึกปฏิบัติวิชาชีพระหว่างเรียน
    </div>

    <div class="bg-light p-3 my-4">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" class="text-center">ครั้งที่</th>
              <th scope="col" class="text-center">ชั้นปี</th>
              <th scope="col" class="text-center">ภาคเรียนที่</th>
              <th scope="col" class="text-center">จำนวนชั่วโมง</th>
            </tr>
          </thead>

          <tbody>
            <ng-container formArrayName="rows">
              <ng-container *ngFor="let row of rows.controls; let i = index">
                <tr [formGroupName]="i">
                  <th scope="row">
                    <div class="fs-5 text-center">{{ i + 1 }}</div>
                  </th>

                  <td>
                    <div>
                      <input
                        class="form-control text-center"
                        type="number"
                        min="0"
                        placeholder=""
                        formControlName="year"
                      />
                    </div>
                  </td>

                  <td>
                    <div>
                      <input
                        class="form-control text-center"
                        type="number"
                        min="0"
                        placeholder=""
                        formControlName="term"
                      />
                    </div>
                  </td>

                  <td>
                    <div>
                      <input
                        class="form-control text-center"
                        type="number"
                        min="0"
                        placeholder=""
                        formControlName="hour"
                      />
                    </div>
                  </td>
                </tr>
              </ng-container>
            </ng-container>

            <tr>
              <th scope="row"></th>
              <td></td>
              <td>
                <ksp-add-row-button
                  (addRowClick)="addRow()"
                  *ngIf="mode === 'edit'"
                  >เพิ่มจำนวนครั้ง
                </ksp-add-row-button>
              </td>
              <td></td>
            </tr>

            <tr>
              <th scope="row"></th>
              <th scope="row"></th>
              <td class="text-end fs-5">รวมทั้งหมด</td>
              <td>
                <div
                  class="form-control bg-secondary bg-opacity-25 text-center"
                  disabled
                >
                  {{ totalHours }}
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</form>
