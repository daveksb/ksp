<form [formGroup]="form">
  <div class="group__container">
    <div class="row row--first">
      <div>
        <label class="form-label">คำนำหน้าชื่อ</label>
        <select class="form-select" formControlName="prefix">
          <option selected>นางสาว</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>
      <div>
        <label class="form-label">ชื่อ </label>
        <input
          formControlName="firstName"
          class="form-control"
          type="text"
          placeholder="กรุณากรอก"
        />
      </div>
      <div>
        <label class="form-label">นามสกุล </label>
        <input
          formControlName="lastName"
          class="form-control"
          type="text"
          placeholder="กรุณากรอก"
        />
      </div>
    </div>

    <div class="row row--secondary">
      <div>
        <label class="form-label">หมายเลขบัตรประชาชน</label>
        <input
          class="form-control"
          type="text"
          placeholder="กรุณากรอก"
          formControlName="personId"
        />
      </div>

      <div>
        <label class="form-label">ตำแหน่งวิชาการ</label>
        <input
          class="form-control"
          type="text"
          placeholder="กรุณากรอก"
          formControlName="academicPost"
        />
      </div>
    </div>

    <div>คุณวุฒิการศึกษา</div>
    <ng-container formArrayName="degrees">
      <ng-container *ngFor="let degreeForm of degrees.controls; let j = index">
        <ng-container [formGroupName]="j">
          <div class="row row--third">
            <div>
              <label class="form-label"
                >คุณวุฒิ / สาขาวิชา ที่ {{ j + 1 }}</label
              >
              <input
                class="form-control"
                type="text"
                placeholder="กรุณากรอก"
                formControlName="name"
              />
            </div>
            <div>
              <label class="form-label">สถาบัน </label>
              <input
                class="form-control"
                type="text"
                placeholder="กรุณากรอก"
                formControlName="institution"
              />
            </div>
            <div>
              <label class="form-label">ปีที่สำเร็จการศึกษา (พ.ศ.) </label>
              <input
                class="form-control"
                type="number"
                min="0"
                placeholder="กรุณากรอก"
                formControlName="year"
              />
            </div>
            <ng-container *hideInViewMode>
              <i
                role="button"
                *ngIf="j > 0"
                (click)="deleteDegree(j)"
                class="bi bi-trash text-danger fs-5"
              ></i>
            </ng-container>
          </div> </ng-container></ng-container
    ></ng-container>

    <div class="button__container" *hideInViewMode>
      <ksp-add-row-button *ngIf="degrees.length < 4" (addClick)="addDegree()">
        เพิ่มคุณวุฒิการศึกษา
      </ksp-add-row-button>
    </div>
    <hr />
  </div>
</form>
