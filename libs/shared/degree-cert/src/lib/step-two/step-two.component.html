<ng-container *ngIf="mode === 'edit'">
  <ksp-uni-warn-incorrect [details]="step2Incorrect"></ksp-uni-warn-incorrect
></ng-container>

<form [formGroup]="form">
  <mat-tab-group
    animationDuration="0ms"
    (selectedTabChange)="tabChanged($event)"
    [selectedIndex]="0"
  >
    <mat-tab
      label="โครงสร้างหลักสูตรและแผนการรับนิสิตนักศึกษา"
      class="tab-content"
    >
      <div
        *ngIf="
          formType === 'a' || formType === 'b' || formType === 'c';
          then typeA;
          else typeB
        "
      ></div>
      <ng-template #typeA>
        <div class="d-flex align-items-center" *ngIf="showEditCheckbox">
          <input
            formControlName="section1"
            type="checkbox"
          />
          <label class="form-label ms-1">ขอแก้ไขข้อมูล</label>
        </div>
        <fieldset [disabled]="section1">
          <ksp-step-2-tab-1-a
            formControlName="plan1"
            [mode]="mode"
          ></ksp-step-2-tab-1-a>
        </fieldset>
      </ng-template>
      <ng-template #typeB>
        <div class="d-flex align-items-center" *ngIf="showEditCheckbox">
          <input
            formControlName="section2"
            type="checkbox"
          />
          <label class="form-label ms-1">ขอแก้ไขข้อมูล</label>
        </div>
        <fieldset [disabled]="section2">
          <ksp-step-2-tab-1-b
            formControlName="plan2"
            [mode]="mode"
          ></ksp-step-2-tab-1-b>
        </fieldset>
      </ng-template>
    </mat-tab>

    <mat-tab label="อาจารย์ / ผู้รับผิดชอบประจำหลักสูตร">
      <div class="d-flex align-items-center" *ngIf="showEditCheckbox">
        <input
          formControlName="section3"
          type="checkbox"
        />
        <label class="form-label ms-1">ขอแก้ไขข้อมูล</label>
      </div>
      <fieldset [disabled]="!section3">
        <ksp-step-2-teacher
          [mode]="mode"
          formControlName="teacher"
        ></ksp-step-2-teacher>
      </fieldset>
    </mat-tab>

    <mat-tab label="อาจารย์นิเทศก์">
      <div class="d-flex align-items-center" *ngIf="showEditCheckbox">
        <input formControlName="section4" type="checkbox" />
        <label class="form-label ms-1">ขอแก้ไขข้อมูล</label>
      </div>
      <fieldset [disabled]="!section4">
        <ksp-step-2-nitet
          [mode]="mode"
          formControlName="nitet"
          [maxAmount]="100"
          [minAmount]="minAmount"
        ></ksp-step-2-nitet>
      </fieldset>
    </mat-tab>

    <mat-tab label="ที่ปรึกษาวิทยานิพนธ์และการค้นคว้าอิสระ">
      <div class="d-flex align-items-center" *ngIf="showEditCheckbox">
        <input
          formControlName="section5"
          type="checkbox"
        />
        <label class="form-label ms-1">ขอแก้ไขข้อมูล</label>
      </div>
      <fieldset [disabled]="section5">
        <ksp-step-2-advisor
          [mode]="mode"
          formControlName="advisor"
        ></ksp-step-2-advisor>
      </fieldset>
    </mat-tab>
  </mat-tab-group>
</form>
