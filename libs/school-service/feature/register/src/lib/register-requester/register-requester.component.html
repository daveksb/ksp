<ksp-top-nav-2>ลงทะเบียนขอรับรหัสเข้าใช้งาน</ksp-top-nav-2>

<form [formGroup]="form">
  <div class="container-fluid bg-secondary bg-opacity-10 pb-3">
    <div class="container-xl px-0 pt-2">
      <div class="box-header">รายละเอียดใบคำขอรหัสเข้าใช้งานระบบ</div>
    </div>

    <div class="bg-white container-xl py-2">
      <ksp-request-header-info
        [requestDate]="requestDate"
        [requestNumber]="requestNumber"
      ></ksp-request-header-info>
      <hr />

      <div>
        <ksp-stepper-nav
          [LabelSecond]="'ข้อมูลผู้มีอำนาจแต่งตั้ง'"
        ></ksp-stepper-nav>
      </div>

      <ksp-university-select
        mode="view"
        [label1]="'สังกัด'"
        [label2]="'โรงเรียน / สถานศึกษา'"
        [schoolName]="school?.schoolName"
      ></ksp-university-select>

      <div class="mx-4 mt-3">
        <div class="text-primary box-header">
          ข้อมูลผู้ขอรหัสสำหรับเข้าใช้งานระบบ
        </div>
        <div class="form-label">สิทธิ์สำหรับการเข้าใช้งาน</div>

        <ng-container *ngFor="let item of grant">
          <div class="d-flex align-items-center">
            <input
              type="checkbox"
              formControlName="{{ item.name }}"
              class="fs-5 my-0 ms-4 form-check-input"
            />
            <label class="fs-5 text-black ms-2">{{ item.label }}</label>
          </div>
        </ng-container>
      </div>

      <ksp-form-user-info
        formControlName="requester"
        [isDarkMode]="false"
        [mode]="mode"
        [prefixList]="prefixList$ | async"
        [nationalitys]="nationalitys$ | async"
        [displayMode]="userInfoFormdisplayMode"
      ></ksp-form-user-info>

      <ksp-bottom-nav
        [isFirstPage]="true"
        [disableNext]="!form.valid"
        [disableNextMessage]="'กรุณากรอกข้อมูลให้ครบถ้วน'"
        (nextClicked)="next()"
        [showCenterButtons]="false"
      ></ksp-bottom-nav>
    </div>
  </div>
</form>
