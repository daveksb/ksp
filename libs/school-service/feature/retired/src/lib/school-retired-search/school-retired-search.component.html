<ksp-top-nav-2>ขอถอดถอนผู้ประสานงาน</ksp-top-nav-2>

<form [formGroup]="form">
  <div class="bg-secondary bg-opacity-10 py-4 full-height">
    <div class="container-xl p-0">
      <div class="box-header">รายละเอียดใบคำขอถอดถอน</div>
    </div>
    <div class="container-xl bg-white py-3">
      <ksp-university-select
        [title]="'กรุณาเลือกหน่วยงาน/สถานศึกษาที่ท่านสังกัด'"
        [label1]="'สังกัด'"
        [label2]="'โรงเรียน / สถานศึกษา'"
        [bureauList]="bureauList$ | async"
        (selectedUniversity)="schoolSelected($event)"
      ></ksp-university-select>

      <div class="mt-3">
        <ksp-bottom-nav
          (prevClicked)="cancel()"
          (nextClicked)="next()"
          [showCenterButtons]="false"
          [disableNext]="!school"
          disableNextMessage="กรุณาเลือกโรงเรียน/ สถานศึกษาก่อน"
        ></ksp-bottom-nav>
      </div>

      <ng-container *ngIf="schoolUsers.length">
        <hr />
        <div class="text-primary box-header">ผลการค้นหา</div>
        <table class="table">
          <thead style="background-color: #edf6ff">
            <tr>
              <th>เลือก</th>
              <th>ชื่อ-นามสกุล</th>
              <th>เบอร์โทรศัพท์</th>
            </tr>
          </thead>
          <tbody class="body__table">
            <tr class="text-secondary" *ngFor="let user of schoolUsers">
              <td>
                <input
                  class="form-check-input"
                  type="radio"
                  formControlName="userSelect"
                  value="{{ user.schmemberid }}"
                  (change)="onItemChange(user)"
                />
              </td>
              <td>{{ user.firstnameth }} {{ user.lastnameth }}</td>
              <td>{{ user.schmobile }}</td>
            </tr>
          </tbody>
        </table>

        <div class="py-2 d-flex justify-content-center">
          <button
            class="btn btn-primary"
            type="button"
            [disabled]="!selectUser"
          >
            ยืนยัน
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</form>
