<ksp-top-nav-2>ขอถอดถอนผู้ประสานงาน</ksp-top-nav-2>

<form [formGroup]="form">
  <div class="bg-secondary bg-opacity-10 py-4 full-height">
    <div class="container-xl bg-white pb-3">
      <div class="box-header pt-2">ค้นหาหน่วยงาน/สถานศึกษา</div>
      <hr />

      <ksp-retired-search
        (clear)="data = []"
        (search)="search()"
        formControlName="userSearch"
      ></ksp-retired-search>

      <ng-container *ngIf="data.length">
        <hr />
        <div class="text-primary box-header">ผลการค้นหา</div>
        <table class="table">
          <thead style="background-color: #edf6ff">
            <tr>
              <th>เลือก</th>
              <th>ชื่อ-นามสกุล</th>
              <th>เบอร์โทรศัพท์</th>
            </tr>
          </thead>
          <tbody class="body__table">
            <tr class="text-secondary" *ngFor="let item of data">
              <td>
                <input
                  class="form-check-input"
                  type="checkbox"
                  formControlName="userSelect"
                  (change)="onItemChange(item.retiredName)"
                />
              </td>
              <td>{{ item.retiredName }}</td>
              <td>{{ item.retiredPhone }}</td>
            </tr>
          </tbody>
        </table>

        <div class="py-2 d-flex justify-content-center">
          <button
            type="button"
            (click)="cancel()"
            class="btn border-primary text-primary me-2"
          >
            ยกเลิก
          </button>
          <button
            class="btn btn-primary"
            type="button"
            (click)="confirm()"
            [disabled]="!selectUser"
          >
            ยืนยัน
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</form>
