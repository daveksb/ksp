<form [formGroup]="form">
  <div class="container">
    <div class="box__container">
      <div class="box__header">
        <div class="title__box">สถานที่ปฏิบัติการสอน</div>
      </div>
      <hr />
      <div class="box__detail">
        <ng-container formArrayName="addresses">
          <ng-container
            *ngFor="let teacherForm of addresses.controls; let i = index"
          >
            <ng-container [formGroupName]="i">
              <div class="header__label">
                สถานที่ปฏิบัติการสอนครั้งที่ {{ i + 1 }}
              </div>
              <div class="detail__container--half">
                <div>
                  <label class="form-label">รหัสหน่วยงาน/สถานศึกษา</label>
                  <div class="search__content">
                    <input
                      class="form-control form-control-sm"
                      type="text"
                      formControlName="addressCode"
                    />
                    <mat-icon class="search" (click)="searchAddress()"
                      >search</mat-icon
                    >
                  </div>
                </div>
                <div class="detail__container">
                  <label class="form-label">ชื่อหน่วยงาน/สถานศึกษา </label>
                  <input
                    class="form-control form-control-sm"
                    type="text"
                    formControlName="addressName"
                  />
                </div>
                <mat-icon
                  matTooltip="ลบสถานที่ปฏิบัติการสอนครั้งที่ {{ i + 1 }}"
                  *ngIf="i > 0"
                  class="delete__icon"
                  (click)="deleteAddress(i)"
                  >delete_outline</mat-icon
                >
              </div>
            </ng-container>
          </ng-container>
        </ng-container>

        <div class="detail__footer">
          <ksp-add-row-button
            [mode]="'blue'"
            (addClick)="addAddress()"
            *ngIf="addresses.length < 5"
            >เพิ่มสถานที่ปฏิบัติการสอน</ksp-add-row-button
          >
        </div>

        <div class="detail__action">
          <button matDialogClose type="button" class="btn btn-outline-primary">
            ยกเลิก
          </button>
          <button
            id="btn-save"
            matDialogClose
            type="button"
            class="btn btn-primary"
          >
            บันทึก
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
