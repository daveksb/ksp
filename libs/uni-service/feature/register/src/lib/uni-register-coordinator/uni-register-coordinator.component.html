<ksp-top-nav-2>ลงทะเบียนขอรับรหัสเข้าใช้งาน</ksp-top-nav-2>

<form [formGroup]="form">
  <div class="bg-secondary bg-opacity-10 pt-1 pb-3">
    <div class="container-xl p-0 fs-4">
      รายละเอียดใบคำขอรหัสเข้าใช้งานระบบ (ผู้ประสานงาน / ผู้รับผิดชอบ)
    </div>

    <div class="bg-white container-xl">
      <div class="pt-2">
        <ksp-request-header-info
          [requestDate]="requestDate"
          [requestNumber]="requestNo"
        ></ksp-request-header-info>
      </div>

      <hr />
      <div>
        <ksp-stepper-nav
          [buttonColor]="'#f68b33'"
          [LabelSecond]="'ข้อมูลผู้แต่งตั้งผู้ประสานงาน/ผู้รับผิดชอบ'"
        ></ksp-stepper-nav>

        <div class="my-3">
          <ksp-university-select
          [label1]="'สถาบัน / มหาวิทยาลัย'"
          [label2]="'กลุ่มสถาบัน'"
          [searchType]="'uni'"
          [schoolName]="uniData?.institution"
          [bureauName]="uniData?.affiliation"
          mode="view"
        ></ksp-university-select>
        </div>

        <div class="my-3">
          <uni-form-register-coordinator
            formControlName="coordinator"
            [formHeader]="
              'ข้อมูลผู้แต่งตั้งผู้ประสานงาน / ผู้รับผิดชอบ (ที่ระบุไว้ในเอกสารแนบ)'
            "
            [uniType]="uniType$ | async"
            [prefixName]="prefixName$ | async"
            [occupyList]="occupyList$ | async"
          ></uni-form-register-coordinator>
        </div>

        <div class="my-3">
          <ksp-form-multi-attachment
            [uniqueTimestamp]="uniqueTimestamp"
            [title]="'กรุณาแนบหลักฐานเพื่อพิจารณา'"
            [titleClass]="'text-primary fs-4'"
            [pageType]="pageType.fileAttachTab"
            [requestType]="requesttype"
            [groups]="uploadFileList"
          ></ksp-form-multi-attachment>
        </div>

        <ksp-bottom-nav
          [isFirstPage]="false"
          [isLastPage]="false"
          [showCancelButton]="false"
          [showCenterButtons]="true"
          [showSaveButton]="false"
          (nextClicked)="next()"
          [disableNext]="form.controls.coordinator.invalid"
          (prevClicked)="prevPage()"
          (cancelClicked)="cancel()"
        >
        </ksp-bottom-nav>
      </div>
    </div>
  </div>
</form>
