<div class="container">
  <div class="title__label">
    รายละเอียดใบคำขอ > <span>ขอยื่นรายชื่อผู้เข้าศึกษา</span>
  </div>
  <div class="content__container">
    <div class="content__header">
      <div class="label__content">
        วันที่ทำรายการ :
        <span class="label__content--primary">10 ตุลาคม 2565</span>
      </div>
      <div class="label__content">
        เลขใบคำขอ :
        <span class="label__content--secondary">112234467876543</span>
      </div>
    </div>
    <hr />

    <div class="detail__container">
      <div class="header__detail">
        <div class="detail__header">ขอยื่นรายชื่อผู้เข้าศึกษา</div>
        <div>
          <button
            type="button"
            class="btn btn-upload-secondary btn-sm label__button"
          >
            <img src="/assets/images/img-uni/microsoft excel.png" />
            ดาวน์โหลดแบบฟอร์ม
          </button>
          <button type="button" class="btn btn-upload btn-sm label__button">
            <img src="/assets/images/img-uni/Upload.svg" /> อัพโหลดไฟล์
          </button>
        </div>
      </div>
      <!--
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let element" [attr.colspan]="8">
          <div
            class="example-element-detail"
            [@detailExpand]="
              element == expandedElement ? 'expanded' : 'collapsed'
            "
          >
            <div class="example-element-diagram">
              <div class="example-element-position">{{ element.position }}</div>
              <div class="example-element-symbol">{{ element.symbol }}</div>
              <div class="example-element-name">{{ element.name }}</div>
              <div class="example-element-weight">{{ element.weight }}</div>
            </div>
            <div class="example-element-description">
              {{ element.description }}
              <span class="example-element-description-attribution">
                -- Wikipedia
              </span>
            </div>
          </div>
        </td>
      </ng-container> -->

      <div class="table">
        <p-table [value]="users" dataKey="id" editMode="row">
          <ng-template pTemplate="header">
            <tr>
              <th>Id</th>
              <th>Name</th>
              <th>Phone</th>
              <th>Actions</th>
              <th style="width: 8rem"></th>
            </tr>
          </ng-template>
          <ng-template
            pTemplate="body"
            let-product
            let-editing="editing"
            let-ri="rowIndex"
          >
            <tr [pEditableRow]="product">
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input pInputText type="text" [(ngModel)]="product.id" />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.id }}
                  </ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="product.firstNameTh"
                      required
                    />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.firstNameTh }}
                  </ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="product.phone"
                      required
                    />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.phone }}
                  </ng-template>
                </p-cellEditor>
              </td>
              <td>
                <div [pRowToggler]="product">details</div>
              </td>

              <td style="text-align: center">
                <button
                  *ngIf="!editing"
                  type="button"
                  pInitEditableRow
                  (click)="onRowEditInit(product)"
                >
                  edit
                </button>
                <button
                  *ngIf="editing"
                  type="button"
                  pSaveEditableRow
                  (click)="onRowEditSave(product)"
                >
                  save
                </button>
                <button
                  *ngIf="editing"
                  type="button"
                  pCancelEditableRow
                  (click)="onRowEditCancel(product, ri)"
                >
                  cancel
                </button>
              </td>
            </tr>
          </ng-template>

          <ng-template pTemplate="rowexpansion" let-product>
            <ksp-form-address></ksp-form-address>
          </ng-template>
        </p-table>

        <div class="detail__footer">
          <button type="button" class="btn btn-add">
            <img
              src="/assets/images/img-uni/add-icon.svg"
              class="icon__add"
            />เพิ่มรายชื่อ
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="bottom__container">
  <div class="footer">
    <button (click)="cancel()" class="btn-primary">ยกเลิก</button>
    <button class="btn-secondary">บันทึกชั่วคราว</button>
    <button (click)="save()" class="btn-third">บันทึกและยื่นใบคำขอ</button>
  </div>
</div>
