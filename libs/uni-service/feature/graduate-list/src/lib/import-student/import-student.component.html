<div class="container">
  <div class="title__label">
    รายละเอียดใบคำขอ > <span>ขอยื่นรายชื่อผู้เข้าศึกษา</span>
  </div>
  <div class="content__container">
    <div class="content__header">
      <div class="label__content">
        วันที่ทำรายการ :
        <span class="label__content--primary">10 ตุลาคม 2565</span>
      </div>
      <div class="label__content">
        เลขใบคำขอ :
        <span class="label__content--secondary">112234467876543</span>
      </div>
    </div>
    <hr />

    <div class="detail__container">
      <div class="header__detail">
        <div class="detail__header">ขอยื่นรายชื่อผู้เข้าศึกษา</div>
        <div>
          <button
            type="button"
            class="btn btn-upload-secondary btn-sm label__button"
          >
            <img src="/assets/images/img-uni/microsoft excel.png" />
            ดาวน์โหลดแบบฟอร์ม
          </button>
          <button type="button" class="btn btn-upload btn-sm label__button">
            <img src="/assets/images/img-uni/Upload.svg" /> อัพโหลดไฟล์
          </button>
        </div>
      </div>

      <div class="table">
        <p-table [value]="users" dataKey="id" editMode="row">
          <ng-template pTemplate="header">
            <tr>
              <th>Id</th>
              <th>Name</th>
              <th>Phone</th>
              <th style="width: 8rem"></th>
            </tr>
          </ng-template>
          <ng-template
            pTemplate="body"
            let-product
            let-editing="editing"
            let-ri="rowIndex"
          >
            <tr [pEditableRow]="product">
              <td pEditableColumn>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input pInputText type="text" [(ngModel)]="product.id" />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.id }}
                  </ng-template>
                </p-cellEditor>
              </td>
              <td pEditableColumn>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="product.firstNameTh"
                      required
                    />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.firstNameTh }}
                  </ng-template>
                </p-cellEditor>
              </td>
              <td pEditableColumn>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="product.phone"
                      required
                    />
                  </ng-template>
                  <ng-template pTemplate="output">
                    {{ product.phone }}
                  </ng-template>
                </p-cellEditor>
              </td>

              <td style="text-align: center">
                <button
                  *ngIf="!editing"
                  pButton
                  pRipple
                  type="button"
                  pInitEditableRow
                  icon="pi pi-pencil"
                  (click)="onRowEditInit(product)"
                  class="p-button-rounded p-button-text"
                >
                  edit
                </button>
                <button
                  *ngIf="editing"
                  pButton
                  pRipple
                  type="button"
                  pSaveEditableRow
                  icon="pi pi-check"
                  (click)="onRowEditSave(product)"
                  class="p-button-rounded p-button-text p-button-success p-mr-2"
                >
                  save
                </button>
                <button
                  *ngIf="editing"
                  pButton
                  pRipple
                  type="button"
                  pCancelEditableRow
                  icon="pi pi-times"
                  (click)="onRowEditCancel(product, ri)"
                  class="p-button-rounded p-button-text p-button-danger"
                >
                  cancel
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>

        <div class="detail__footer">
          <button type="button" class="btn btn-add">
            <img
              src="/assets/images/img-uni/add-icon.svg"
              class="icon__add"
            />เพิ่มรายชื่อ
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="bottom__container">
  <div class="footer">
    <button (click)="cancel()" class="btn-primary">ยกเลิก</button>
    <button class="btn-secondary">บันทึกชั่วคราว</button>
    <button (click)="save()" class="btn-third">บันทึกและยื่นใบคำขอ</button>
  </div>
</div>
