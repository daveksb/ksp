<ksp-top-nav
  ><span header>ยื่นใบคำขอ</span
  ><span subHeader
    >ขอเปลี่ยนแปลงรายละเอียดรายชื่อผู้เข้าศึกษาและผู้สำเร็จการศึกษา
  </span></ksp-top-nav
>

<div class="bg-secondary bg-opacity-10 py-2 px-4 full-height">
  <form [formGroup]="form">
    <div class="bg-white p-3">
      <div class="bg-light p-3 default-width">
        <div class="box-header">ค้นหาข้อมูลที่ต้องการค้นหา</div>
        <div class="row mb-2">
          <div class="col">
            <label class="form-label">เลขที่ใบคำขอ</label>
            <input class="form-control" type="text" formControlName="requestno" />
          </div>
          <div class="col">
            <label class="form-label">ระดับปริญญา</label>
            <select class="form-select" formControlName="degreelevel">
              <option>กรุณาเลือก</option>
              <option>xxx</option>
              <option>xxx</option>
              <option>xxx</option>
            </select>
          </div>
        </div>
  
        <div class="row mb-2">
          <div class="col">
            <label class="form-label">ชื่อปริญญาและประกาศนียบัตรทางการศึกษา</label>
            <input class="form-control" type="text" formControlName="fulldegreename" />
          </div>
          <div class="col">
            <label class="form-label">วิชาเอก</label>
            <input class="form-control" type="text" formControlName="coursemajor" />
          </div>
        </div>
  
        <div class="row mb-2">
          <div class="col">
            <label class="form-label">ปีการศึกษา</label>
            <input class="form-control" type="text" formControlName="plancalendaryear" />
          </div>
          <div class="col">
            <label class="form-label">สถานะตรวจสอบ</label>
            <select class="form-select" formControlName="requeststatus">
              <option>กรุณาเลือก</option>
              <option>xxx</option>
              <option>xxx</option>
              <option>xxx</option>
            </select>
          </div>
        </div>
  
        <div class="row mb-2">
          <div class="col-6">
            <label class="form-label">หมายเลขบัตรประชาชน/เลขประจำตัวคุรุสภา/หมายเลขหนังสือเดินทาง</label>
            <input class="form-control" type="text" formControlName="idcardno" />
          </div>
          <div class="col-6">
            <label class="form-label">ชื่อ-นามสกุล</label>
            <input class="form-control" type="text" formControlName="name" />
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-6">
            <label class="form-label">วันเดือนปีที่ยื่นใบคำขอ</label>
            <input class="form-control" type="date" formControlName="requestdatefrom" />
          </div>
          <div class="col-6">
            <label class="form-label">วันเดือนปีที่ยื่นใบคำขอ</label>
            <input class="form-control" type="date" formControlName="requestdateto" />
          </div>
        </div>
  
        <div class="d-flex justify-content-end">
          <button
            class="btn border-primary text-primary"
            type="button"
            (click)="clear()"
          >
            ล้างข้อมูล
          </button>
          <button class="btn btn-primary ms-2" type="button" (click)="search()">
            ค้นหา
          </button>
        </div>
      </div>
    </div>
  </form>
  <br />
  <div class="d-flex justify-content-between align-items-center mb-2">
    <div class="box-header">
      รายการแบบคำขอยื่นขอเปลี่ยนแปลงรายละเอียดรายชื่อผู้เข้าและผู้สำเร็จการศึกษา
    </div>
    <button
      class="btn bg-white border-primary text-primary"
      type="button"
      (click)="create()"
    >
      + สร้างใบคำขอ
    </button>
  </div>
  <div class="table-reponsive bg-white p-3">
    <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="order">
        <th mat-header-cell *matHeaderCellDef>ลำดับ</th>
        <td mat-cell *matCellDef="let element">{{ element.order }}</td>
      </ng-container>

      <ng-container matColumnDef="requestId">
        <th mat-header-cell *matHeaderCellDef>เลขที่คำขอ</th>
        <td mat-cell *matCellDef="let element">{{ element.requestId }}</td>
      </ng-container>

      <ng-container matColumnDef="submitDate">
        <th mat-header-cell *matHeaderCellDef>วันที่ยื่นคำขอ</th>
        <td mat-cell *matCellDef="let element">{{ element.submitDate }}</td>
      </ng-container>

      <ng-container matColumnDef="personId">
        <th mat-header-cell *matHeaderCellDef>
          หมายเลขบัตรประชุาชน/เลขประจำตัวคุรุสภา
        </th>
        <td mat-cell *matCellDef="let element">{{ element.personId }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>ชื่อ-นามสกุล</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <ng-container matColumnDef="degreeCode">
        <th mat-header-cell *matHeaderCellDef>ระดับปริญญา</th>
        <td mat-cell *matCellDef="let element">
          {{ element.degreeCode }}
        </td>
      </ng-container>

      <ng-container matColumnDef="university">
        <th mat-header-cell *matHeaderCellDef>มหาวิทยาลัย/สถาบัน</th>
        <td mat-cell *matCellDef="let element">
          {{ element.university }}
        </td>
      </ng-container>

      <ng-container matColumnDef="degreeName">
        <th mat-header-cell *matHeaderCellDef>
          ชื่อปริญญาและประกาศนียบัตรทางการศึกษา
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.degreeName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="major">
        <th mat-header-cell *matHeaderCellDef>วิชาเอก</th>
        <td mat-cell *matCellDef="let element">
          {{ element.major }}
        </td>
      </ng-container>

      <ng-container matColumnDef="verifyStatus">
        <th mat-header-cell *matHeaderCellDef>สถานะตรวจสอบ</th>
        <td mat-cell *matCellDef="let element">
          <span
            class="rounded-pill d-flex justify-content-center"
            [ngClass]="{
              edit__status: element.verifyStatus === 'สร้าง' || 'ยื่นเรียบร้อย',
              verify__status: element.verifyStatus === 'รับข้อมูล'
            }"
          >
            {{ element.verifyStatus }}
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="editDate">
        <th mat-header-cell *matHeaderCellDef>วันที่แก้ไขล่าสุด</th>
        <td mat-cell *matCellDef="let element">{{ element.editDate }}</td>
      </ng-container>

      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>พิมพ์</th>
        <td mat-cell *matCellDef="let element">
          <i role="button" class="bi bi-printer-fill fs-5 text-primary"></i>
        </td>
      </ng-container>

      <ng-container matColumnDef="print">
        <th mat-header-cell *matHeaderCellDef>ประวัติ</th>
        <td class="text-center" mat-cell *matCellDef="let element">
          <i
            role="button"
            (click)="history()"
            class="bi bi-eye fs-5 text-success"
          ></i>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
