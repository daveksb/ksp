<section class="bg-image">
  <div class="container min-vh-100 d-flex flex-column justify-content-center">
    <div
      class="row gx-lg-6 offset-lg-6 offset-md-12 align-items-center justify-content-center px-md-5 w-sm-50"
    >
      <div class="col-lg-10 mb-3 mb-lg-0 px-5 px-md-0">
        <form [formGroup]="form">
          <div class="d-flex flex-column align-items-center">
            <div class="text-center">
              <img src="/assets/images/K-logo.png" />
              <h1 class="mb-1">เข้าใช้งานเว็บไซต์</h1>
              <h3 class="mb-3 text-secondary">Selfservice</h3>
            </div>
          </div>

          <ng-container *ngIf="loginFail">
            <ksp-uni-form-badge
              [subTitle]="'คุณกรอกรหัสเข้าใช้งาน หรือรหัสผ่านไม่ถูกต้อง'"
            ></ksp-uni-form-badge>
          </ng-container>

          <div class="row">
            <div class="col mb-3">
              <label class="fs-4 text-black">รหัสบัตรประชาชน</label>
              <input
                type="text"
                class="form-control form-control-lg"
                placeholder="กรุณากรอกรหัสบัตรประชาชน 13 หลัก"
                formControlName="username"
                maxlength="13"
              />
            </div>
          </div>

          <div class="row">
            <div class="col mb-3">
              <label class="fs-4 text-black">รหัสผ่าน</label>
              <input
                [type]="eyeIconClicked ? 'text' : 'password'"
                class="form-control form-control-lg"
                placeholder="รหัสผ่าน"
                formControlName="password"
              />
              <i
                class="text-secondary fs-5"
                (click)="eyeIconClicked = !eyeIconClicked"
                [ngClass]="{
                  'bi-eye': eyeIconClicked,
                  'bi-eye-slash': !eyeIconClicked
                }"
              ></i>
            </div>
          </div>

          <div class="d-flex justify-content-end">
            <div
              role="button"
              class="text-secondary text-decoration-underline fs-5"
              (click)="forgot()"
            >
              ลืมรหัสผ่าน?
            </div>
          </div>

          <div class="d-flex justify-content-center my-3">
            <button
              [disabled]="form.invalid"
              (click)="login()"
              type="button"
              class="btn btn-primary fs-4 w-100"
            >
              เข้าสู่ระบบ
            </button>
          </div>

          <div class="d-flex justify-content-center">
            <div
              role="button"
              (click)="register()"
              class="label__primary text-decoration-underline fs-5"
            >
              สมัครสมาชิก
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <div class="support__label">service support 20-484-3976 hotline 1124</div>
    </div>
  </div>
</section>
