<section class="bg-image">
  <div class="container min-vh-100 d-flex flex-column justify-content-center">
    <div class="d-flex justify-content-start">
      <mat-button-toggle-group #group="matButtonToggleGroup">
        <mat-button-toggle value="th" checked="true" class="w-50"
          ><img src="/assets/images/thai-flag.png" style="width: 25px" />
          Th</mat-button-toggle
        >
        <mat-button-toggle value="en" class="w-50"
          ><img src="/assets/images/eng-flag.png" style="width: 20px" />
          En</mat-button-toggle
        >
      </mat-button-toggle-group>
    </div>
    <div
      class="row gx-lg-6 offset-lg-6 offset-md-12 align-items-center justify-content-center px-md-5 w-sm-50"
    >
      <div class="col-lg-10 mb-3 mb-lg-0 px-5 px-md-0">
        <!-- <div class="d-flex justify-content-end mb-3 mb-lg-0">
          <mat-button-toggle-group name="lang" aria-label="Font Style">
            <mat-button-toggle value="th" checked="true" class="w-50"
              ><img src="/assets/images/thai-flag.png" style="width: 25px" />
              Th</mat-button-toggle
            >
            <mat-button-toggle value="th" class="w-50"
              ><img src="/assets/images/eng-flag.png" style="width: 20px" />
              En</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div> -->

        <form [formGroup]="form">
          <div class="d-flex flex-column align-items-center">
            <div class="text-center">
              <img src="/assets/images/K-logo.png" />
              <h1 class="mb-1" *ngIf="group.value === 'th'">
                เข้าใช้งานเว็บไซต์
              </h1>
              <h1 class="mb-1" *ngIf="group.value === 'en'">
                Access the Website
              </h1>
              <h3 class="mb-3 text-secondary">Selfservice</h3>
            </div>
          </div>

          <ng-container *ngIf="loginFail">
            <ksp-uni-form-badge
              [subTitle]="'คุณกรอกรหัสเข้าใช้งาน หรือรหัสผ่านไม่ถูกต้อง'"
            ></ksp-uni-form-badge>
          </ng-container>

          <div class="row">
            <div class="col mb-3">
              <label class="fs-4 text-black" *ngIf="group.value === 'th'"
                >รหัสบัตรประชาชน</label
              >
              <label class="fs-4 text-black" *ngIf="group.value === 'en'"
                >Teachers Council of Thailand ID number</label
              >
              <input
                type="text"
                class="form-control form-control-lg"
                [placeholder]="
                  group.value === 'th'
                    ? 'กรุณากรอกรหัสบัตรประชาชน 13 หลัก'
                    : 'username'
                "
                formControlName="username"
                maxlength="13"
              />
            </div>
          </div>

          <div class="row">
            <div class="col mb-3">
              <label class="fs-4 text-black" *ngIf="group.value === 'th'"
                >รหัสผ่าน</label
              >
              <label class="fs-4 text-black" *ngIf="group.value === 'en'"
                >Password</label
              >
              <input
                [type]="eyeIconClicked ? 'text' : 'password'"
                class="form-control form-control-lg"
                [placeholder]="group.value === 'th' ? 'รหัสผ่าน' : 'password'"
                formControlName="password"
              />
              <i
                class="text-secondary fs-5"
                (click)="eyeIconClicked = !eyeIconClicked"
                [ngClass]="{
                  'bi-eye': eyeIconClicked,
                  'bi-eye-slash': !eyeIconClicked
                }"
              ></i>
            </div>
          </div>

          <div class="d-flex justify-content-end">
            <div
              role="button"
              class="text-secondary text-decoration-underline fs-5"
              (click)="forgot()"
            >
              <span *ngIf="group.value === 'th'">ลืมรหัสผ่าน?</span>
              <span *ngIf="group.value === 'en'">Forgot Password?</span>
            </div>
          </div>

          <div class="d-flex justify-content-center my-3">
            <button
              [disabled]="form.invalid"
              (click)="login()"
              type="submit"
              class="btn btn-primary fs-4 w-100"
            >
              <span *ngIf="group.value === 'th'">เข้าสู่ระบบ</span>
              <span *ngIf="group.value === 'en'">Login</span>
            </button>
          </div>

          <div class="d-flex justify-content-center">
            <div
              role="button"
              (click)="register()"
              class="label__primary text-decoration-underline fs-5"
            >
              <span *ngIf="group.value === 'th'">สมัครสมาชิก</span>
              <span *ngIf="group.value === 'en'">Register</span>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <div class="support__label">service support 20-484-3976 hotline 1124</div>
    </div>
  </div>
</section>
