<form [formGroup]="form">
  <div class="row mx-0 border shadow rounded-4 px-2 py-4 bg-white my-4">
    <div class="col-lg-2">
      <self-service-form-upload-image></self-service-form-upload-image>
    </div>
    <div class="col-md">
      <ksp-form-user-info
        formControlName="userInfo"
        [isDarkMode]="true"
        [prefixList]="prefixList$ | async"
        [displayMode]="[userInfoType]"
        [nationList]="nationalitys$ | async"
        [isSchoolService]="false"
      >
      </ksp-form-user-info>
    </div>
  </div>

  <mat-tab-group class="tab-group" animationDuration="0ms" [selectedIndex]="0">
    <mat-tab label="ที่อยู่" class="tab-content">
      <ksp-form-address
        formControlName="address1"
        [isDarkMode]="true"
        [provinces]="provinces1$ | async"
        [amphurs]="amphurs1$ | async"
        [tumbols]="tumbols1$ | async"
        (provinceChanged)="provinceChanged(1, $event)"
        (amphurChanged)="amphurChanged(1, $event)"
      >
        <span>ที่อยู่ทะเบียนบ้าน</span>
      </ksp-form-address>
      <hr />
      <ksp-form-address
        formControlName="address2"
        [isDarkMode]="true"
        [provinces]="provinces2$ | async"
        [amphurs]="amphurs2$ | async"
        [tumbols]="tumbols2$ | async"
        (provinceChanged)="provinceChanged(2, $event)"
        (amphurChanged)="amphurChanged(2, $event)"
      >
        <span>ที่อยู่ที่ติดต่อได้สะดวก</span>
        <span class="text-danger ms-1 fs-6">*กรุณากรอกข้อมูลตำบล, อำเภอ</span>
        <div class="d-flex align-items-center">
          <input type="checkbox" class="me-2" />
          <label class="form-label">ที่อยู่ตามทะเบียนบ้าน</label>
        </div>
      </ksp-form-address>
    </mat-tab>

    <mat-tab label="สถานที่ทำงาน">
      <self-service-form-user-workplace
        formControlName="workplace"
        [provinces]="provinces3$ | async"
        [amphurs]="amphurs3$ | async"
        [tumbols]="tumbols3$ | async"
        [bureaus]="bureau$ | async"
        (provinceChanged)="provinceChanged(3, $event)"
        (amphurChanged)="amphurChanged(3, $event)"
      >
      </self-service-form-user-workplace>
      <div class="row mb-3">
        <div class="col">
          <label class="form-label">เว็บไซต์</label>
          <input type="text" class="form-control" formControlName="website" />
        </div>
        <div class="col">
          <label class="form-label">อีเมล</label>
          <input type="text" class="form-control" formControlName="workEmail" />
        </div>
      </div>
    </mat-tab>

    <mat-tab label="ข้อมูลคุณสมบัติตามมาตรฐานวิชาชีพ">
      <self-service-form-user-education
        formControlName="education"
        [educationTypes]="'supervision'"
      >
      </self-service-form-user-education>
    </mat-tab>

    <mat-tab label="ข้อมูลประสบการณ์วิชาชีพ">
      <self-service-study-supervision-experience formControlName="experience">
      </self-service-study-supervision-experience>
      <hr />
      <ksp-form-attachment
        [groups]="experienceFiles"
        [uniqueTimestamp]="uniqueTimestamp"
        [title]="'กรุณาแนบหลักฐานประกอบ'"
      ></ksp-form-attachment>
    </mat-tab>
  </mat-tab-group>
</form>

<!-- <div class="fs-6 text-danger mt-1">
  *กรุณากรอกข้อมูลให้ถูกต้องเพื่อประโยชน์ของตัวท่านเอง
  โปรดตรวจสอบอีกครั้งก่อนทำการบันทึกข้อมูลลงในระบบ
</div> -->

<!-- <div class="d-flex justify-content-center my-3">
  <button type="button" class="btn btn-secondary">ล้างข้อมูล</button>
  <button type="button" (click)="save()" class="ms-3 btn btn-primary">
    ต่อไป
  </button>
</div>
 -->
