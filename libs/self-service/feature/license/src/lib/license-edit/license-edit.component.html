<ksp-top-nav [isSelfService]="true">
  <span header>ยื่นใบคำขอ</span>
  <span subHeader>เปลี่ยนแปลง/แก้ไขใบอนุญาต</span>
</ksp-top-nav>
<form [formGroup]="form">
  <div class="main__container px-4 py-2">
    <div class="box-header">
      มีความประสงค์จะขอให้เปลี่ยนแปลงข้อมูลทะเบียนผู้ได้รับใบอนุญาต
    </div>

    <div class="detail__container p-3">
      <ksp-edit-license
        formControlName="userInfo"
        [oldValue]="oldValue"
        [prefixList]="prefixList$ | async"
        [showDistributeData]="true"
      ></ksp-edit-license>

      <ksp-form-multi-attachment
        [groups]="uploadFileList"
        [uniqueTimestamp]="uniqueTimestamp"
      ></ksp-form-multi-attachment>

      <label class="text-danger">
        *กรุณากรอกข้อมูลให้ถูกต้องเพื่อประโยชน์ของตัวท่านเอง
        โปรดตรวจสอบอีกครั้งก่อนการบันทึกลงระบบ
      </label>

      <div class="d-flex justify-content-center mt-2">
        <button
          *ngIf="requestId"
          type="button"
          class="ms-3 btn border-primary text-primary"
          (click)="onCancel()"
        >
          ยกเลิกใบคำขอ
        </button>
        <button
          *ngIf="!requestId"
          (click)="onCancel()"
          type="button"
          class="ms-3 btn border-primary text-primary"
        >
          ยกเลิก
        </button>
        <button
          (click)="onConfirm()"
          type="button"
          class="ms-3 btn btn-primary"
          [disabled]="!form.valid"
        >
          บันทึก
        </button>
      </div>
    </div>
  </div>
</form>
